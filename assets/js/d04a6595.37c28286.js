"use strict";(self.webpackChunkt_ame_blog=self.webpackChunkt_ame_blog||[]).push([[1035],{5672:e=>{e.exports=JSON.parse('{"permalink":"/TAmeBlog/blog/2025/04/08/2025/04/abc229_e","source":"@site/blog/2025/04/2025-04-08-abc229_e.md","title":"AtCoder ABC229 E - Graph Destruction \u89e3\u8aac","description":"\u554f\u984c\u30da\u30fc\u30b8:","date":"2025-04-08T00:00:00.000Z","tags":[{"inline":true,"label":"AtCoder","permalink":"/TAmeBlog/blog/tags/at-coder"},{"inline":true,"label":"ABC229","permalink":"/TAmeBlog/blog/tags/abc-229"},{"inline":true,"label":"E","permalink":"/TAmeBlog/blog/tags/e"},{"inline":true,"label":"UnionFindTree","permalink":"/TAmeBlog/blog/tags/union-find-tree"},{"inline":true,"label":"\u30b0\u30e9\u30d5","permalink":"/TAmeBlog/blog/tags/\u30b0\u30e9\u30d5"},{"inline":true,"label":"\u9023\u7d50\u6210\u5206","permalink":"/TAmeBlog/blog/tags/\u9023\u7d50\u6210\u5206"}],"readingTime":3.135,"hasTruncateMarker":true,"authors":[{"name":"TAmemiya","title":"Small fry IT technician","imageURL":"https://github.com/tarminjapan.png","key":"tame","page":null}],"frontMatter":{"title":"AtCoder ABC229 E - Graph Destruction \u89e3\u8aac","date":"2025-04-08T00:00:00.000Z","authors":["tame"],"tags":["AtCoder","ABC229","E","UnionFindTree","\u30b0\u30e9\u30d5","\u9023\u7d50\u6210\u5206"]},"unlisted":false,"prevItem":{"title":"AtCoder ABC273 E - Notebook \u89e3\u8aac","permalink":"/TAmeBlog/blog/2025/04/09/2025/04/abc273_e"},"nextItem":{"title":"AtCoder ABC275 D - Yet Another Recursive Function \u89e3\u8aac","permalink":"/TAmeBlog/blog/2025/04/07/2025/04/abc275_d"}}')},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>l});var a=n(6540);const t={},i=a.createContext(t);function r(e){const s=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(i.Provider,{value:s},e.children)}},8736:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>m});var a=n(5672),t=n(4848),i=n(8453);const r={title:"AtCoder ABC229 E - Graph Destruction \u89e3\u8aac",date:new Date("2025-04-08T00:00:00.000Z"),authors:["tame"],tags:["AtCoder","ABC229","E","UnionFindTree","\u30b0\u30e9\u30d5","\u9023\u7d50\u6210\u5206"]},l="E - Graph Destruction",c={authorsImageUrls:[void 0]},m=[{value:"\u65b9\u91dd",id:"\u65b9\u91dd",level:2}];function o(e){const s={a:"a",annotation:"annotation",code:"code",h2:"h2",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mtext:"mtext",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u554f\u984c\u30da\u30fc\u30b8:"})," ",(0,t.jsx)(s.a,{href:"https://atcoder.jp/contests/abc229/tasks/abc229_e",children:"https://atcoder.jp/contests/abc229/tasks/abc229_e"})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"\u63d0\u51fa\u30b3\u30fc\u30c9:"})," ",(0,t.jsx)(s.a,{href:"https://atcoder.jp/contests/abc229/submissions/64624224",children:"https://atcoder.jp/contests/abc229/submissions/64624224"})]}),"\n",(0,t.jsx)(s.h2,{id:"\u65b9\u91dd",children:"\u65b9\u91dd"}),"\n",(0,t.jsx)(s.p,{children:"\u5404\u9023\u7d50\u6210\u5206\u306fUnionFindTree\u3092\u7528\u3044\u3066\u7ba1\u7406\u3057\u307e\u3059\u3002\u9023\u7d50\u6210\u5206\u306e\u6570\u3092\u4fdd\u6301\u3059\u308b\u5909\u6570\u3092\u7528\u610f\u3057\u307e\u3059\u3002"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\u9802\u70b9 ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsxs)(s.mrow,{children:[(0,t.jsx)(s.mi,{children:"N"}),(0,t.jsx)(s.mo,{separator:"true",children:","}),(0,t.jsx)(s.mi,{children:"N"}),(0,t.jsx)(s.mo,{children:"\u2212"}),(0,t.jsx)(s.mn,{children:"1"}),(0,t.jsx)(s.mo,{separator:"true",children:","}),(0,t.jsx)(s.mi,{children:"N"}),(0,t.jsx)(s.mo,{children:"\u2212"}),(0,t.jsx)(s.mn,{children:"2"}),(0,t.jsx)(s.mo,{separator:"true",children:","}),(0,t.jsx)(s.mo,{children:"\u22ef"}),(0,t.jsx)(s.mtext,{children:"\u2009"}),(0,t.jsx)(s.mo,{separator:"true",children:","}),(0,t.jsx)(s.mn,{children:"2"})]}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"N, N-1, N-2, \\cdots, 2"})]})})}),(0,t.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,t.jsx)(s.span,{className:"mpunct",children:","}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(s.span,{className:"mord",children:"1"}),(0,t.jsx)(s.span,{className:"mpunct",children:","}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.8389em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(s.span,{className:"mord",children:"2"}),(0,t.jsx)(s.span,{className:"mpunct",children:","}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsx)(s.span,{className:"minner",children:"\u22ef"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsx)(s.span,{className:"mpunct",children:","}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsx)(s.span,{className:"mord",children:"2"})]})]})]})," \u306e\u9806\u756a\u306b\u9802\u70b9\u3068\u8fba\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u9802\u70b9\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304d\u306b\u3001\u9023\u7d50\u6210\u5206\u306e\u6570\u30921\u5897\u3084\u3057\u307e\u3059\u3002"}),"\n",(0,t.jsx)(s.li,{children:"\u8fba\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304d\u3001\u7d50\u3070\u308c\u308b2\u3064\u306e\u9802\u70b9\u304c\u7570\u306a\u308b\u9023\u7d50\u6210\u5206\u306b\u5c5e\u3059\u308b\u5834\u5408\u306f\u3001\u9023\u7d50\u6210\u5206\u306e\u6570\u30921\u6e1b\u3089\u3057\u307e\u3059\uff082\u3064\u306e\u9023\u7d50\u6210\u5206\u304c1\u3064\u306b\u307e\u3068\u307e\u308b\u305f\u3081\u3067\u3059\uff09\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\u9802\u70b9 ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsx)(s.mrow,{children:(0,t.jsx)(s.mi,{children:"i"})}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.6595em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",children:"i"})]})})]})," \u306b\u63a5\u7d9a\u3057\u3001\u304b\u3064 ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsx)(s.mrow,{children:(0,t.jsx)(s.mi,{children:"i"})}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.6595em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",children:"i"})]})})]})," \u3088\u308a\u5927\u304d\u3044\u756a\u53f7\u3092\u6301\u3064\u9802\u70b9\u3092\u52b9\u7387\u7684\u306b\u5217\u6319\u3059\u308b\u305f\u3081\u3001\u8fba\u306e\u60c5\u5831\u306f",(0,t.jsx)(s.code,{children:"Dictionary<int, SortedSet<int>>"}),"\u3067\u7ba1\u7406\u3057\u307e\u3059\u3002\uff08",(0,t.jsx)(s.code,{children:"SortedSet"}),"\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u8ffd\u52a0\u6e08\u307f\u306e\u96a3\u63a5\u9802\u70b9 ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsxs)(s.mrow,{children:[(0,t.jsx)(s.mo,{fence:"true",children:"("}),(0,t.jsx)(s.mi,{children:"j"}),(0,t.jsx)(s.mo,{children:">"}),(0,t.jsx)(s.mi,{children:"i"}),(0,t.jsx)(s.mo,{fence:"true",children:")"})]}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\left(j > i \\right)"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsxs)(s.span,{className:"minner",children:[(0,t.jsx)(s.span,{className:"mopen delimcenter",style:{top:"0em"},children:"("}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(s.span,{className:"mrel",children:">"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",children:"i"}),(0,t.jsx)(s.span,{className:"mclose delimcenter",style:{top:"0em"},children:")"})]})]})})]})," \u3092\u52b9\u7387\u7684\u306b\u898b\u3064\u3051\u3089\u308c\u307e\u3059\u3002\uff09"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u5b9f\u88c5:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csharp",children:"public class Solve\n{\n    public static void Run()\n    {\n        var inputs = ReadLine.Ints();\n        int iN = inputs[0], iM = inputs[1];\n        var iAB = ReadLine.IntMatrix(iM);\n\n        var ufTree = new UnionFindTree<int>();\n        var edges = new Dictionary<int, SortedSet<int>>();\n\n        foreach (var ab in iAB)\n        {\n            edges.TryAdd(ab[0], new SortedSet<int>());\n            edges.TryAdd(ab[1], new SortedSet<int>());\n            edges[ab[0]].Add(ab[1]);\n            edges[ab[1]].Add(ab[0]);\n        }\n\n        var conns = 0; // \u73fe\u5728\u306e\u9023\u7d50\u6210\u5206\u306e\u6570\n        var stack = new Stack<int>(); // \u5404\u6642\u70b9(\u9802\u70b9i\u3092\u8ffd\u52a0\u3057\u305f\u5f8c)\u306e\u9023\u7d50\u6210\u5206\u6570\u3092\u8a18\u9332\u3059\u308b\u305f\u3081\u306e\u30b9\u30bf\u30c3\u30af\n        stack.Push(0); // \u521d\u671f\u72b6\u614b\uff08\u9802\u70b91\u306e\u307f\uff09\u306e\u9023\u7d50\u6210\u5206\u6570\u306f0\n\n        for (int i = iN; 2 <= i; i--) // \u9802\u70b9\u3092N\u304b\u30892\u307e\u3067\u9006\u9806\u306b\u8ffd\u52a0\u3057\u3066\u3044\u304f\n        {\n            conns++; // \u65b0\u3057\u3044\u9802\u70b9\u3092\u8ffd\u52a0\u3059\u308b\u306e\u3067\u3001\u9023\u7d50\u6210\u5206\u304c1\u3064\u5897\u3048\u308b\n            ufTree.Add(i); // UnionFindTree\u306b\u9802\u70b9i\u3092\u8ffd\u52a0\n\n            if (edges.TryGetValue(i, out var js))\n                // \u9802\u70b9i\u306b\u63a5\u7d9a\u3057\u3001\u65e2\u306b\u30b0\u30e9\u30d5\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b(j > i)\u9802\u70b9j\u3068\u306e\u8fba\u3092\u51e6\u7406\u3059\u308b\n                // SortedSet\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067Max\u3067\u6700\u5927\u306ej\u3092\u53d6\u5f97\u3057\u3001\u52b9\u7387\u7684\u306b\u51e6\u7406\u3067\u304d\u308b\n                while (i < js.Max)\n                {\n                    var j = js.Max; // i < j \u3068\u306a\u308b\u6700\u5927\u306e\u96a3\u63a5\u9802\u70b9j\u3092\u53d6\u5f97\n                    js.Remove(j); // \u51e6\u7406\u6e08\u307f\u3068\u3057\u3066\u524a\u9664\n\n                    var ri = ufTree.FindRoot(i);\n                    var rj = ufTree.FindRoot(j);\n\n                    if (ri != rj) // i\u3068j\u304c\u7570\u306a\u308b\u9023\u7d50\u6210\u5206\u306b\u5c5e\u3057\u3066\u3044\u308c\u3070\n                    {\n                        ufTree.Union(i, j); // \u9023\u7d50\u6210\u5206\u3092\u7d71\u5408\n                        conns--; // \u9023\u7d50\u6210\u5206\u306e\u6570\u30921\u6e1b\u3089\u3059\n                    }\n\n                    edges[j].Remove(i); // \u5bfe\u79f0\u7684\u306a\u8fba\u60c5\u5831\u3082\u524a\u9664 (j -> i)\n                }\n\n            stack.Push(conns); // \u9802\u70b9i\u3092\u8ffd\u52a0\u3057\u7d42\u3048\u305f\u6642\u70b9\u3067\u306e\u9023\u7d50\u6210\u5206\u6570\u3092\u8a18\u9332\n        }\n\n        while (1 <= stack.Count)\n            Console.WriteLine(stack.Pop());\n    }\n}\n"})})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);